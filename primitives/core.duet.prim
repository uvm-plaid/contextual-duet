-- PRIMITIVES

primitive mgauss : ∀ εₛ : ℝ⁺, δₛ : ℝ⁺,m: ℕ, n: ℕ .
(w : ℝ⁺[εₛ])
⊸ [w⋅0.0] (q : ℝ⁺[δₛ])
⊸ [w⋅0.0, q⋅0.0] (c : 𝕄 [L∞, U|m, n↦ℝ ])
⊸⋆ [ w⋅⟨∞,∞⟩, q⋅⟨∞,∞⟩, c⋅⟨εₛ,δₛ⟩ ] 𝕄 [L∞, U|m, n↦ℝ ] ,

primitive mmap : ∀ τ₁: ☆,τ₂: ☆,m: ℕ, n: ℕ,q: ℕ, r: ℕ,s: ℕ .
(a : 𝕄 [L∞, U|m, n↦τ₁ ])
⊸ [a⋅q] (b : (c : τ₁) ⊸ [c⋅r] τ₂)
⊸ [ b⋅s ] 𝕄 [L∞, U|m, n↦τ₂ ] ,

primitive mmap2 : ∀ τ₁: ☆,τ₂: ☆,m: ℕ, n: ℕ, p: ℕ,q: ℕ, r: ℕ,s: ℕ,t: ℕ .
(a₁ : 𝕄 [L∞, U|m, n↦τ₁ ])
⊸ [a₁⋅p] (a₂ : 𝕄 [L∞, U|m, n↦τ₁ ])
⊸ [a₂⋅q] (b : (c : τ₁) ⊸ [c⋅r] (d : τ₁) ⊸ [d⋅s] τ₂)
⊸ [ b⋅t ] 𝕄 [L∞, U|m, n↦τ₂ ] ,

primitive mLipGrad : ∀ m: ℕ, n: ℕ,q: ℝ⁺, r: ℝ⁺.
(a : 𝕄 [L∞, U|1.0, n↦𝔻 ])
⊸ [a⋅1.0] (b : 𝕄 [L∞, L2|m, n↦𝔻 ])
⊸ [b⋅q] (c : 𝕄 [L∞, U|m, 1.0↦𝔻 ])
⊸ [ c⋅r ] 𝕄 [L∞, U|1.0, n↦ℝ ] ,

primitive matsub : ∀ m: ℕ, n: ℕ .
(θ : 𝕄 [L∞, U|m, n↦𝔻 ])
⊸ [θ⋅0.0] (g : 𝕄 [L∞, U|m, n↦ℝ ])
⊸ [θ⋅1.0,g⋅1.0] 𝕄 [L∞, U|m, n↦ℝ ],

primitive mcreate : ∀ m: ℕ, n: ℕ, τ: ☆.
(x : ℕ[m])
⊸ [x⋅0.0] (y : ℕ[n])
⊸ [y⋅0.0] (z : (i : 𝕀[m]) ⊸ [i⋅0.0] (j : 𝕀[n]) ⊸ [j⋅0.0] τ )
⊸ [z⋅(m⋅n)] 𝕄[L1, U|m, n↦τ ],

primitive cols :
∀ m: ℕ, n: ℕ, τ: ☆.
(x : 𝕄 [L∞, U|m, n↦τ ]) ⊸ [x⋅1.0] ℕ[n],

primitive mclip :
∀ m: ℕ, n: ℕ, τ: ☆.
(x : 𝕄 [L∞, U|m, n↦τ ]) ⊸ [x⋅1.0] 𝕄 [L∞, L2|m, n↦τ ],

primitive aloop :
  ∀ ε: ℝ⁺, δ: ℝ⁺, δ′: ℝ⁺, k: ℕ, n: ℕ,
  Γ₁: cxt, Γ₂: cxt, Γ₃: cxt .
  (f : (z : 𝕄 [L∞,U| 1.0,n↦𝔻])
  ⊸⋆[ Γ₁⋅⟨ε,δ⟩
    , Γ₂⋅⟨∞,∞⟩
    , z⋅⟨∞,∞⟩
    , Γ₃⋅⟨0.0,0.0⟩
   ] 𝕄 [L∞,U|1.0,n↦ℝ])
  ⊸  [f⋅0.0] (x : 𝕄 [L1,U|1.0,n↦ℝ])
  ⊸  [f⋅0.0, x⋅0.0] (δ′′ : ℝ⁺[δ′])
  ⊸⋆ [ Γ₁⋅⟨2.0⋅ε⋅(√ (2.0⋅k⋅(㏒ (1.0/δ′)))),k⋅δ+δ′⟩
     , Γ₂⋅⟨∞,∞⟩
     , f⋅⟨∞,∞⟩
     , x⋅⟨∞,∞⟩
     , δ′′⋅⟨∞,∞⟩
     ] ℝ


-- primitive rows : ∀ m, n, A . 𝕄[l, c|m, n⋅A ] ⊸[0] ℕ[m]
-- primitive cols : ∀ m, n, A . 𝕄[l, c|m, n⋅A ] ⊸[0] ℕ[n]
-- primitive discf : ∀ A. (A ⊸[⊤] ℝ) ⊸[1] (A ⊸ [1] 𝔻)
-- primitive undisc : ∀ . 𝔻 ⊸[⊤] ℝ
-- primitive transpose : ∀ m, n, A. 𝕄[L1, c|m, n⋅A ] ⊸[1] 𝕄[L1, UClip|n, m⋅A ]
--
-- primitive convert : ∀ m, n. 𝕄[l', l|m, n⋅𝔻 ] ⊸[1] 𝕄[l, UClip|m, n⋅ℝ ]
-- primitive clip-l : ∀ m, n. 𝕄[l', c|m, n⋅𝔻 ] ⊸[1] 𝕄[l', l|m, n⋅𝔻 ]
-- primitive fr-sens-l∞ : ∀ m, n, A. 𝕄[L∞, c|m, n⋅A ] ⊸[√n] 𝕄[L2, c|m, n⋅A ]
-- primitive fr-sens-l2 : ∀ m, n, A. 𝕄[L2, c|m, n⋅A ] ⊸[√n] 𝕄[L1, c|m, n⋅A ]
-- primitive to-sens-l : ∀ m, n, A. 𝕄[L1, c|m, n⋅A ] ⊸[1] 𝕄[l, c|m, n⋅A ]
